# An example `omnifest` that creates a CentOS 9 QCOW disk image. This example
# serves to show the possibilities on how to lay out omnifests and their
# includes on disk.
#
# It also shows some externals being used for dependency solving.
otk.version: "1"

# Some variables that we want to re-use.
otk.define:
  architecture: "x86_64"
  version: "9"

# Common information for all CentOS 9 images.
otk.include: "common/prelude.yaml"

# A target that generates on [osbuild](https://github.com/osbuild/osbuild)
# manifest.
otk.target.osbuild:
  pipelines:
    - otk.include: "pipeline/build.yaml"
    - otk.include: "pipeline/os.yaml"
  sources:
    org.osbuild.curl:
      otk.op.join:
        values:
          - ${packages.build.sources.curl}
          - ${packages.os.sources.curl}
